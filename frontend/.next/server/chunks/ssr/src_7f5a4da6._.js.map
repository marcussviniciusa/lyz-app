{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/m/lyz-app/frontend/src/types/index.ts"],"sourcesContent":["export enum UserRole {\n  SUPERADMIN = 'superadmin',\n  USER = 'user'\n}\n\nexport enum PlanStatus {\n  DRAFT = 'draft',\n  IN_PROGRESS = 'in_progress',\n  COMPLETED = 'completed',\n  ARCHIVED = 'archived'\n}\n\nexport enum ProfessionType {\n  MEDICAL = 'medical_nutritionist',\n  OTHER = 'other_professional'\n}\n\nexport enum PromptType {\n  EXAM_ANALYSIS = 'exam_analysis',\n  TCM_ANALYSIS = 'tcm_analysis',\n  IFM_MATRIX = 'ifm_matrix',\n  PLAN_GENERATION = 'plan_generation'\n}\n\nexport interface User {\n  _id: string;\n  name: string;\n  email: string;\n  role: UserRole;\n  company: Company | string;\n  isActive: boolean;\n  lastLogin?: Date;\n  createdAt: Date;\n  updatedAt: Date;\n}\n\nexport interface Company {\n  _id: string;\n  name: string;\n  usageLimit: number;\n  isActive: boolean;\n  createdAt: Date;\n  updatedAt: Date;\n}\n\nexport interface PatientData {\n  fullName: string;\n  birthDate: Date;\n  profession: string;\n  mainReason: string;\n  initialObservations?: string;\n}\n\nexport interface MenstrualHistory {\n  symptoms: string[];\n  notes?: string;\n}\n\nexport interface GestationalHistory {\n  details: string;\n}\n\nexport interface HealthHistory {\n  details: string;\n}\n\nexport interface FamilyHistory {\n  details: string;\n}\n\nexport interface LifestyleHabits {\n  details: string;\n}\n\nexport interface Exam {\n  name: string;\n  date: Date;\n  results: Record<string, any>;\n  observations?: string;\n  fileIds?: string[];\n}\n\nexport interface TCMObservation {\n  facial: {\n    faceColor?: string;\n    skinGlow?: string;\n    spots?: string;\n    eyeCharacteristics?: string;\n    lipsAndMouth?: string;\n  };\n  tongue: {\n    bodyColor?: string;\n    coatingThickness?: string;\n    coatingColor?: string;\n    shape?: string;\n    marksOrCracks?: string;\n    moistureLevel?: string;\n  };\n  pulse: {\n    quality?: string;\n    strength?: string;\n    rhythm?: string;\n    positions?: Record<string, string>;\n  };\n  energetic: {\n    deficiencyExcess?: string;\n    elementImbalances?: string;\n    otherSigns?: string;\n  };\n}\n\nexport interface TimelineEvent {\n  date: Date;\n  type: string;\n  description: string;\n  duration?: string;\n  impact?: number;\n  menstrualRelation?: string;\n}\n\nexport interface IFMSystem {\n  assimilation?: {\n    antecedents?: string;\n    triggers?: string;\n    mediators?: string;\n  };\n  defense?: {\n    antecedents?: string;\n    triggers?: string;\n    mediators?: string;\n  };\n  energy?: {\n    antecedents?: string;\n    triggers?: string;\n    mediators?: string;\n  };\n  biotransformation?: {\n    antecedents?: string;\n    triggers?: string;\n    mediators?: string;\n  };\n  transport?: {\n    antecedents?: string;\n    triggers?: string;\n    mediators?: string;\n  };\n  communication?: {\n    antecedents?: string;\n    triggers?: string;\n    mediators?: string;\n  };\n  structure?: {\n    antecedents?: string;\n    triggers?: string;\n    mediators?: string;\n  };\n}\n\nexport interface PlanContent {\n  caseSummary?: string;\n  symptomCorrelations?: string;\n  generalNutritionalPlan?: string;\n  cyclicalNutritionalPlan?: {\n    follicular?: string;\n    ovulatory?: string;\n    luteal?: string;\n    menstrual?: string;\n  };\n  recommendedSupplements?: string;\n  additionalExams?: string;\n  lifestyleGuidelines?: string;\n  followUpSchedule?: string;\n}\n\nexport interface Plan {\n  _id: string;\n  creator: User | string;\n  company: Company | string;\n  professionType: ProfessionType;\n  status: PlanStatus;\n  patientData: PatientData;\n  menstrualHistory?: MenstrualHistory;\n  gestationalHistory?: GestationalHistory;\n  healthHistory?: HealthHistory;\n  familyHistory?: FamilyHistory;\n  lifestyleHabits?: LifestyleHabits;\n  exams?: Exam[];\n  tcmObservations?: TCMObservation;\n  timeline?: TimelineEvent[];\n  ifmMatrix?: IFMSystem;\n  planContent?: PlanContent;\n  sharedLink?: string;\n  sharedLinkExpiry?: Date;\n  viewCount?: number;\n  createdAt: Date;\n  updatedAt: Date;\n}\n\nexport interface Prompt {\n  _id: string;\n  type: PromptType;\n  name: string;\n  content: string;\n  isActive: boolean;\n  createdAt: Date;\n  updatedAt: Date;\n}\n\nexport interface FileMetadata {\n  fileId: string;\n  fileUrl: string;\n  fileName: string;\n  fileType: string;\n  category: string;\n  planId?: string;\n  examId?: string;\n  uploadDate: Date;\n}\n\nexport interface TokenUsage {\n  _id: string;\n  user: User | string;\n  company: Company | string;\n  plan?: Plan | string;\n  type: string;\n  inputTokens: number;\n  outputTokens: number;\n  totalTokens: number;\n  createdAt: Date;\n}\n\nexport interface PaginatedResponse<T> {\n  status: string;\n  results: number;\n  pagination: {\n    total: number;\n    page: number;\n    pages: number;\n    limit: number;\n  };\n  data: {\n    [key: string]: T[];\n  };\n}\n\nexport interface ApiError {\n  status: string;\n  message: string;\n}\n\nexport interface LoginCredentials {\n  email: string;\n  password: string;\n}\n\nexport interface RegisterData {\n  name: string;\n  email: string;\n  password: string;\n  company: string;\n}\n\nexport interface AuthResponse {\n  status: string;\n  data: {\n    user: User;\n    token: string;\n  };\n}\n\nexport interface SharedPlanResponse {\n  status: string;\n  data: {\n    plan: Partial<Plan>;\n  };\n}\n\nexport interface FileUploadResponse {\n  status: string;\n  data: FileMetadata;\n}\n\nexport interface AIAnalysisResponse {\n  status: string;\n  data: {\n    analysis: string;\n  };\n}\n\nexport interface GenerateSharingLinkResponse {\n  status: string;\n  message: string;\n  data: {\n    sharingLink: string;\n    expiryDate: Date;\n  };\n}\n"],"names":[],"mappings":";;;;;;AAAO,IAAA,AAAK,kCAAA;;;WAAA;;AAKL,IAAA,AAAK,oCAAA;;;;;WAAA;;AAOL,IAAA,AAAK,wCAAA;;;WAAA;;AAKL,IAAA,AAAK,oCAAA;;;;;WAAA","debugId":null}},
    {"offset": {"line": 43, "column": 0}, "map": {"version":3,"sources":["file:///home/m/lyz-app/frontend/src/app/dashboard/layout.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect } from 'react';\nimport { usePathname, useRouter } from 'next/navigation';\nimport Link from 'next/link';\nimport { \n  LayoutDashboard, \n  FileText, \n  Users, \n  Building2, \n  Settings, \n  LogOut, \n  Menu, \n  X,\n  Bell,\n  UserCircle,\n  ChevronDown\n} from 'lucide-react';\nimport useAuthStore from '@/store/authStore';\nimport { useState } from 'react';\nimport { UserRole } from '@/types';\n\nexport default function DashboardLayout({\n  children,\n}: Readonly<{\n  children: React.ReactNode;\n}>) {\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false);\n  const [isProfileMenuOpen, setIsProfileMenuOpen] = useState(false);\n  const pathname = usePathname();\n  const router = useRouter();\n  const { user, isAuthenticated, logout } = useAuthStore();\n\n  // Check if user is authenticated, otherwise redirect to login\n  useEffect(() => {\n    if (!isAuthenticated) {\n      router.push('/auth/login');\n    }\n  }, [isAuthenticated, router]);\n\n  if (!isAuthenticated || !user) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n        <div className=\"w-10 h-10 border-4 border-emerald-500 border-t-transparent rounded-full animate-spin\"></div>\n      </div>\n    );\n  }\n\n  const isSuperAdmin = user.role === UserRole.SUPERADMIN;\n\n  const navigationItems = [\n    {\n      name: 'Dashboard',\n      href: '/dashboard',\n      icon: LayoutDashboard,\n    },\n    {\n      name: 'Planos',\n      href: '/dashboard/plans',\n      icon: FileText,\n    },\n    {\n      name: 'Usuários',\n      href: '/dashboard/users',\n      icon: Users,\n      adminOnly: true,\n    },\n    {\n      name: 'Empresas',\n      href: '/dashboard/companies',\n      icon: Building2,\n      adminOnly: true,\n    },\n    {\n      name: 'Configurações',\n      href: '/dashboard/settings',\n      icon: Settings,\n    },\n  ];\n\n  // Filter out admin-only items for regular users\n  const filteredNavigation = navigationItems.filter(\n    item => !item.adminOnly || isSuperAdmin\n  );\n\n  const handleLogout = () => {\n    logout();\n    router.push('/auth/login');\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Mobile sidebar backdrop */}\n      {isSidebarOpen && (\n        <div \n          className=\"fixed inset-0 bg-gray-800 bg-opacity-50 z-20 lg:hidden\"\n          onClick={() => setIsSidebarOpen(false)}\n        ></div>\n      )}\n\n      {/* Sidebar */}\n      <aside\n        className={`fixed top-0 left-0 z-30 w-64 h-full transition-transform duration-300 transform bg-white border-r border-gray-200 ${\n          isSidebarOpen ? 'translate-x-0' : '-translate-x-full lg:translate-x-0'\n        }`}\n      >\n        <div className=\"flex items-center justify-between p-4 border-b\">\n          <Link href=\"/dashboard\" className=\"flex items-center space-x-2\">\n            <span className=\"text-2xl font-bold text-emerald-600\">Lyz.ai</span>\n          </Link>\n          <button\n            className=\"p-1 rounded-md lg:hidden focus:outline-none focus:ring-2 focus:ring-emerald-500\"\n            onClick={() => setIsSidebarOpen(false)}\n          >\n            <X size={24} className=\"text-gray-500\" />\n          </button>\n        </div>\n        <nav className=\"flex flex-col h-full py-4\">\n          <div className=\"flex-1\">\n            <ul className=\"space-y-1 px-3\">\n              {filteredNavigation.map((item) => (\n                <li key={item.name}>\n                  <Link\n                    href={item.href}\n                    className={`flex items-center px-4 py-2 text-sm font-medium rounded-lg ${\n                      pathname === item.href\n                        ? 'text-emerald-700 bg-emerald-50'\n                        : 'text-gray-700 hover:bg-gray-100'\n                    }`}\n                  >\n                    <item.icon\n                      size={18}\n                      className={`mr-3 ${\n                        pathname === item.href ? 'text-emerald-600' : 'text-gray-500'\n                      }`}\n                    />\n                    {item.name}\n                  </Link>\n                </li>\n              ))}\n            </ul>\n          </div>\n          <div className=\"px-3 mt-auto\">\n            <button\n              onClick={handleLogout}\n              className=\"flex items-center w-full px-4 py-2 text-sm font-medium text-gray-700 rounded-lg hover:bg-gray-100\"\n            >\n              <LogOut size={18} className=\"mr-3 text-gray-500\" />\n              Sair\n            </button>\n          </div>\n        </nav>\n      </aside>\n\n      {/* Main content */}\n      <div className=\"lg:pl-64\">\n        {/* Top navbar */}\n        <header className=\"sticky top-0 z-10 bg-white border-b border-gray-200\">\n          <div className=\"flex items-center justify-between h-16 px-4 sm:px-6 lg:px-8\">\n            <button\n              className=\"p-1 text-gray-500 rounded-md lg:hidden focus:outline-none focus:ring-2 focus:ring-emerald-500\"\n              onClick={() => setIsSidebarOpen(true)}\n            >\n              <Menu size={24} />\n            </button>\n            \n            <div className=\"flex items-center space-x-4\">\n              <button className=\"relative p-1 text-gray-500 rounded-full hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-emerald-500\">\n                <Bell size={20} />\n                <span className=\"absolute top-0 right-0 w-2 h-2 bg-red-500 rounded-full\"></span>\n              </button>\n              \n              <div className=\"relative\">\n                <button\n                  className=\"flex items-center space-x-2 focus:outline-none\"\n                  onClick={() => setIsProfileMenuOpen(!isProfileMenuOpen)}\n                >\n                  <UserCircle size={32} className=\"text-gray-500\" />\n                  <div className=\"hidden md:block text-left\">\n                    <p className=\"text-sm font-medium text-gray-700\">{user.name}</p>\n                    <p className=\"text-xs text-gray-500\">{user.email}</p>\n                  </div>\n                  <ChevronDown size={16} className=\"text-gray-500\" />\n                </button>\n                \n                {isProfileMenuOpen && (\n                  <div className=\"absolute right-0 mt-2 w-48 py-2 bg-white rounded-md shadow-lg border border-gray-200 z-50\">\n                    <Link\n                      href=\"/dashboard/profile\"\n                      className=\"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\"\n                      onClick={() => setIsProfileMenuOpen(false)}\n                    >\n                      Perfil\n                    </Link>\n                    <Link\n                      href=\"/dashboard/settings\"\n                      className=\"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\"\n                      onClick={() => setIsProfileMenuOpen(false)}\n                    >\n                      Configurações\n                    </Link>\n                    <hr className=\"my-1 border-gray-200\" />\n                    <button\n                      onClick={() => {\n                        setIsProfileMenuOpen(false);\n                        handleLogout();\n                      }}\n                      className=\"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100\"\n                    >\n                      Sair\n                    </button>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        </header>\n\n        {/* Page content */}\n        <main className=\"p-4 sm:p-6 lg:p-8\">\n          {children}\n        </main>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}