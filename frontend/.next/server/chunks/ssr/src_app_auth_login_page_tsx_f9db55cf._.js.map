{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/m/lyz-app/frontend/src/app/auth/login/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport { z } from 'zod';\nimport Link from 'next/link';\nimport { useRouter, useSearchParams } from 'next/navigation';\nimport { Eye, EyeOff, LogIn, CheckCircle } from 'lucide-react';\nimport useAuthStore from '@/store/authStore';\nimport Image from 'next/image';\n\n// Validation schema\nconst loginSchema = z.object({\n  email: z.string().email('Email inválido'),\n  password: z.string().min(6, 'A senha deve ter pelo menos 6 caracteres'),\n});\n\ntype LoginFormData = z.infer<typeof loginSchema>;\n\nexport default function LoginPage() {\n  const [showPassword, setShowPassword] = useState(false);\n  const [registrationSuccess, setRegistrationSuccess] = useState(false);\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const { login, error, isLoading, clearError } = useAuthStore();\n  \n  useEffect(() => {\n    // Verificar se o usuário acabou de se registrar\n    if (searchParams?.get('registered') === 'true') {\n      setRegistrationSuccess(true);\n      \n      // Remover a mensagem após 5 segundos\n      const timer = setTimeout(() => {\n        setRegistrationSuccess(false);\n      }, 5000);\n      \n      return () => clearTimeout(timer);\n    }\n  }, [searchParams]);\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n  } = useForm<LoginFormData>({\n    resolver: zodResolver(loginSchema),\n  });\n\n  const onSubmit = async (data: LoginFormData) => {\n    try {\n      clearError();\n      await login(data.email, data.password);\n      router.push('/dashboard');\n    } catch (error) {\n      // Error is handled by the store\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-emerald-50 to-teal-100 p-4\">\n      <div className=\"w-full max-w-md bg-white rounded-xl shadow-xl overflow-hidden\">\n        <div className=\"p-8\">\n          <div className=\"text-center mb-8\">\n            <div className=\"flex justify-center mb-4\">\n              <div className=\"w-16 h-16 rounded-full bg-emerald-100 flex items-center justify-center\">\n                {/* Aqui poderia ser inserido um logo real */}\n                <span className=\"text-3xl font-bold text-emerald-700\">L</span>\n              </div>\n            </div>\n            <h1 className=\"text-3xl font-bold text-emerald-700\">Lyz.ai</h1>\n            <p className=\"text-gray-600 mt-2\">Saúde feminina personalizada</p>\n          </div>\n\n          <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-6\">\n            {registrationSuccess && (\n              <div className=\"p-3 bg-green-50 border border-green-200 text-green-700 rounded-lg text-sm mb-4 flex items-start\">\n                <CheckCircle size={18} className=\"mr-2 flex-shrink-0 mt-0.5\" />\n                <span>Conta criada com sucesso! Faça login para continuar.</span>\n              </div>\n            )}\n            \n            {error && (\n              <div className=\"p-3 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm\">\n                {error}\n              </div>\n            )}\n\n            <div className=\"space-y-2\">\n              <label className=\"text-sm font-medium text-gray-700\">Email</label>\n              <div className=\"relative\">\n                <input\n                  type=\"email\"\n                  {...register('email')}\n                  className=\"w-full px-4 py-2 pl-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500\"\n                  placeholder=\"seu@email.com\"\n                  autoComplete=\"email\"\n                />\n                <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 text-gray-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                    <path d=\"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z\" />\n                    <path d=\"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z\" />\n                  </svg>\n                </div>\n              </div>\n              {errors.email && (\n                <p className=\"text-red-600 text-xs mt-1\">{errors.email.message}</p>\n              )}\n            </div>\n\n            <div className=\"space-y-2\">\n              <label className=\"text-sm font-medium text-gray-700\">Senha</label>\n              <div className=\"relative\">\n                <input\n                  type={showPassword ? 'text' : 'password'}\n                  {...register('password')}\n                  className=\"w-full px-4 py-2 pl-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500\"\n                  placeholder=\"********\"\n                  autoComplete=\"current-password\"\n                />\n                <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 text-gray-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                    <path fillRule=\"evenodd\" d=\"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z\" clipRule=\"evenodd\" />\n                  </svg>\n                </div>\n                <button\n                  type=\"button\"\n                  onClick={() => setShowPassword(!showPassword)}\n                  className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 focus:outline-none\"\n                  aria-label={showPassword ? 'Esconder senha' : 'Mostrar senha'}\n                >\n                  {showPassword ? (\n                    <EyeOff size={18} />\n                  ) : (\n                    <Eye size={18} />\n                  )}\n                </button>\n              </div>\n              {errors.password && (\n                <p className=\"text-red-600 text-xs mt-1\">{errors.password.message}</p>\n              )}\n            </div>\n\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center\">\n                <input\n                  id=\"remember-me\"\n                  name=\"remember-me\"\n                  type=\"checkbox\"\n                  className=\"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded transition duration-150 ease-in-out\"\n                />\n                <label htmlFor=\"remember-me\" className=\"ml-2 block text-sm text-gray-700\">\n                  Lembrar-me\n                </label>\n              </div>\n              <div className=\"text-sm\">\n                <Link href=\"/auth/forgot-password\" className=\"text-emerald-600 hover:text-emerald-500 transition duration-150 ease-in-out font-medium\">\n                  Esqueceu a senha?\n                </Link>\n              </div>\n            </div>\n\n            <button\n              type=\"submit\"\n              disabled={isLoading}\n              className=\"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-lg text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 disabled:opacity-50 disabled:cursor-not-allowed transition duration-150 ease-in-out mt-6 shadow-sm\"\n            >\n              {isLoading ? (\n                <div className=\"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2\"></div>\n              ) : (\n                <LogIn size={18} className=\"mr-2\" />\n              )}\n              <span className=\"font-medium\">Entrar</span>\n            </button>\n          </form>\n\n          <div className=\"text-center mt-8 border-t border-gray-100 pt-6\">\n            <p className=\"text-sm text-gray-600\">\n              Não tem uma conta?{' '}\n              <Link href=\"/auth/register\" className=\"text-emerald-600 hover:text-emerald-500 font-medium transition duration-150 ease-in-out\">\n                Registrar-se agora\n              </Link>\n            </p>\n            <p className=\"text-xs text-gray-500 mt-4\">\n              Ao entrar, você concorda com nossos{' '}\n              <Link href=\"/terms\" className=\"text-emerald-600 hover:underline\">\n                Termos de Serviço\n              </Link>{' '}\n              e{' '}\n              <Link href=\"/privacy\" className=\"text-emerald-600 hover:underline\">\n                Política de Privacidade\n              </Link>\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}